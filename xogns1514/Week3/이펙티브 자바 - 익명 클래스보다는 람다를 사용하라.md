# μ΄ν™ν‹°λΈ μλ°” - μµλ… ν΄λμ¤λ³΄λ‹¤λ” λλ‹¤λ¥Ό μ‚¬μ©ν•λΌ

μμ „ μλ°”μ—μ„ ν•¨μ νƒ€μ… ν‘ν„μ‹, μ¶”μƒ λ©”μ„λ“λ¥Ό ν•λ‚λ§ λ‹΄μ€ μΈν„°νμ΄μ¤(ν•¨μν• μΈν„°νμ΄μ¤)λ¥Ό μ‚¬μ©ν–λ‹¤. μ΄λ° μΈν„°νμ΄μ¤μ μΈμ¤ν„΄μ¤λ¥Ό `ν•¨μ κ°μ²΄`λΌκ³  ν•λ©°, νΉμ • ν•¨μλ‚ λ™μ‘μ„ λ‚νƒ€λ‚λ”λ° μΌλ‹¤. 

JDK1.1μ΄ λ“±μ¥ν•λ©΄μ„ ν•¨μ κ°μ²΄λ¥Ό λ§λ“λ” μ£Όμ” μλ‹¨μ€ `μµλ… ν΄λμ¤`κ°€ λμ—λ‹¤.

```java
Collections.sort(words, new Comparator<String>() {
	public int compare(String s1, String s2) {
		return Integer.compare(s1.length(), s2.length());
	}
});
```

μ „λµ ν¨ν„΄μ²λΌ, ν•¨μ κ°μ²΄λ¥Ό μ‚¬μ©ν•λ” κ³Όκ±° κ°μ²΄ μ§€ν–¥ λ””μμΈ ν¨ν„΄μ—λ” μµλ… ν΄λμ¤λ… μ¶©λ¶„ν–λ‹¤.

β†’ ν•μ§€λ§ μµλ… ν΄λμ¤ λ°©μ‹μ€ μ½”λ“κ°€ λ„λ¬΄ κΈΈκΈ° λ•λ¬Έμ— μλ°”λ” ν•¨μν• ν”„λ΅κ·Έλλ°μ— μ ν•©ν•μ§€ μ•μ•λ‹¤

μλ°” 8μ—μ„λ” ν•¨μν• μΈν„°νμ΄μ¤λ“¤μ μΈμ¤ν„΄μ¤λ¥Ό λλ‹¤μ‹μΌλ΅ μ‚¬μ©ν•΄, μµλ… ν΄λμ¤μ™€ κ°λ…μ€ λΉ„μ·ν•μ§€λ§ κ°„κ²°ν• μ½”λ“λ¥Ό μ§¤ μ μλ‹¤.

```java
Collections.sort(words,
	(s1, s2) -> Integer.compare(s1.length(), s2.length()));
```

- λλ‹¤, λ§¤κ°λ³€μ(s1, s2) λ°ν™κ°’μ νƒ€μ…μ€ (Comparator<String>), String, int μ΄μ§€λ§ μ½”λ“μ— μ–ΈκΈ‰μ΄ μ—†λ‹¤.

β†’ μ»΄νμΌλ¬κ°€ λ¬Έλ§¥μ„ μ‚΄ν΄ νƒ€μ…μ„ μ¶”λ΅ ν•΄μ£ΌκΈ° λ•λ¬Έμ΄λ‹¤.

π“Β νƒ€μ…μ„ λ…μ‹ν•΄μ•Ό μ½”λ“κ°€ λ” λ…ν™•ν•  λ•λ§ μ μ™Έν•κ³ λ”, λλ‹¤μ λ¨λ“  λ§¤κ°λ³€μ νƒ€μ…μ€ μƒλµν•μ

β†’ μ»΄νμΌλ¬κ°€ β€νƒ€μ…μ„ μ• μ μ—†λ‹¤β€λ” μ¤λ¥λ¥Ό λ‚Ό λ•λ§ ν•΄λ‹Ή νƒ€μ…μ„ λ…μ‹ν•μ. (μ»΄νμΌλ¬λ” νƒ€μ…μ„ μ¶”λ΅ ν•λ”λ° ν•„μ”ν• νƒ€μ… μ •λ³΄ λ€λ¶€λ¶„μ„ μ λ„¤λ¦­μ—μ„ μ–»λ”λ‹¤)

```java
//λΉ„κµμ μƒμ„± λ©”μ„λ“ μ΄μ©
Collections.sort(words, comparingInt(String::length));
//Listμ sort μ΄μ©
words.sort(comparingInt(String::length));
```

```java
//μƒμλ³„ ν΄λμ¤ λΈμ²΄μ™€ λ°μ΄ν„°λ¥Ό μ‚¬μ©ν• μ—΄κ±° νƒ€μ…
public enum Operation {
	PLUS("+") {
	public double apply(double x, double y) {return x + y;}
	},
	MINUS("_") {
	public double apply(double x, double y) {return x - y;}
	},
	TIMES("*") {
	public double apply (double x, double y) {return Γ— * y;}
	},
	DIVIDE("/") {
	public double apply (double x, double y) {return x / y;}
	};

	private final String symbol;
	Operation(String symbol) { this.symbol = symbol; }
	@Override public String toString() { return symbol; } 
	public abstract double apply (double x, double y);
}
```

- λλ‹¤λ¥Ό μ΄μ©ν•λ©΄ μ—΄κ±° νƒ€μ…μ μΈμ¤ν„΄μ¤ ν•„λ“λ¥Ό μ΄μ©ν•λ” λ°©μ‹μΌλ΅ μƒμλ³„λ΅ λ‹¤λ¥΄κ² λ™μ‘ν•λ” μ½”λ“λ¥Ό μ‰½κ² κµ¬ν„ν•  μ μλ‹¤.

```java
//λλ‹¤λ¥Ό μΈμ¤ν„΄μ¤ ν•„λ“μ— μ €μ¥ν•΄ μƒμλ³„ λ™μ‘μ„ κµ¬ν„ν• μ—΄κ±° νƒ€μ…
public enum Operation {
	PLUS ("+", (x, y) β†’ x + y),
	MINUS ("-", (x, y) -> x - y),
	TIMES ("*", (x, y) -> Γ— * y),
	DIVIDE ("/", (x, y) -> x / y);

	private final String symbol;
	private final DoubleBinaryOperator op;
	//Double νƒ€μ… μΈμ 2κ°λ¥Ό λ°›μ•„ Double νƒ€μ… κ²°κ³Όλ¥Ό λ°ν™

	Operation(String symbol, DoubleBinaryOperator op) {
		this.symbol = symbol;
		this.op = op;
	}

	@override 
	public String toString() {return symbol;}

	public double apply (double x, double y) {
		return op.applyAsDouble(x, y);
	}
}
```

π“Β μ—΄κ±° νƒ€μ… μƒμ„±μμ— λ„κ²¨μ§€λ” μΈμλ“¤μ νƒ€μ…λ„ μ»΄νμΌ νƒ€μ„μ— μ¶”λ΅ λλ‹¤. λ”°λΌμ„ μ—΄κ±° νƒ€μ… μƒμ„±μ μ•μ λλ‹¤λ” μ—΄κ±° νƒ€μ…μ μΈμ¤ν„΄μ¤ λ©¤λ²„μ— μ ‘κ·Όν•  μ μ—†λ‹¤. μΈμ¤ν„΄μ¤λ” λ°νƒ€μ„μ— λ§λ“¤μ–΄μ§€κΈ° λ•λ¬Έμ΄λ‹¤.

β“Β μƒμλ³„ ν΄λμ¤ λΈμ²΄λ” λ” μ΄μƒ μ‚¬μ©ν•  μ΄μ κ°€ μ—†λ‚

β†’ λλ‹¤λ” μ΄λ¦„μ΄ μ—†κ³  λ¬Έμ„ν™”λ„ λ» ν•λ‹¤. λ”°λΌμ„ μ½”λ“ μμ²΄λ΅ λ™μ‘μ΄ λ…ν™•ν μ„¤λ…λμ§€ μ•κ±°λ‚ μ½”λ“ μ¤„ μκ°€ λ§μ•„μ§€λ©΄ λλ‹¤λ¥Ό μ“°μ§€ λ§μ•„μ•Ό ν•λ‹¤.

π“Β λλ‹¤λ΅ λ€μ²΄ν•  μ μ—†λ” κ³³

λλ‹¤λ” ν•¨μν• μΈν„°νμ΄μ¤μ—μ„λ§ μ“°μΈλ‹¤

1. μ¶”μƒ ν΄λμ¤μ μΈμ¤ν„΄μ¤λ¥Ό λ§λ“¤ λ• λλ‹¤λ¥Ό μ“Έ μ μ—†μΌλ‹ μµλ… ν΄λμ¤λ¥Ό μ¨μ•Όν•λ‹¤.
2. μ¶”μƒ λ©”μ„λ“κ°€ μ—¬λ¬κ°μΈ μΈν„°νμ΄μ¤μ μΈμ¤ν„΄μ¤λ¥Ό λ§λ“¤ λ•λ„ μµλ… ν΄λμ¤λ¥Ό μ“Έ μ μλ‹¤.
3. λλ‹¤λ” μμ‹ μ„ μ°Έμ΅°ν•  μ μ—†λ‹¤. λλ‹¤μ—μ„μ this ν‚¤μ›λ“λ” λ°”κΉ¥ μΈμ¤ν„΄μ¤λ¥Ό κ°€λ¦¬ν‚¨λ‹¤. μµλ… ν΄λμ¤μ thisλ” μµλ… ν΄λμ¤μ μΈμ¤ν„΄μ¤ μμ‹ μ„ κ°€λ¦¬ν‚¨λ‹¤.
- λλ‹¤λ¥Ό μ§λ ¬ν™” ν•λ” μΌμ€ μ‚Όκ°€ν•΄μ•Ό ν•λ‹¤. (μµλ… ν΄λμ¤λ„ λ§μ°¬κ°€μ§€)

β†’ μ§λ ¬ν™” ν•νƒκ°€ κµ¬ν„λ³„λ΅ λλ” κ°€μƒλ¨Έμ‹  λ³„λ΅ λ‹¤λ¥Ό μ μκΈ° λ•λ¬Έμ΄λ‹¤.

μ§λ ¬ν™”: μλ°” μ‹μ¤ν… λ‚΄λ¶€μ—μ„ μ‚¬μ©λλ” Object λλ” Dataλ¥Ό μ™Έλ¶€μ μλ°” μ‹μ¤ν…μ—μ„λ„ μ‚¬μ©ν•  μ μλ„λ΅ byte ν•νƒλ΅ λ°μ΄ν„°λ¥Ό λ³€ν™ν•λ” κΈ°μ 

---

# ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λΌ

μλ°”κ°€ λλ‹¤λ¥Ό μ§€μ›ν•λ©΄μ„ μƒμ„ ν΄λμ¤μ κΈ°λ³Έ λ©”μ„λ“λ¥Ό μ¬μ •μν•΄ μ›ν•λ” λ™μ‘μ„ κµ¬ν„ν•λ” ν…ν”λ¦Ώ λ©”μ„λ“ ν¨ν„΄μ λ§¤λ ¥μ΄ ν¬κ² μ¤„μ—λ‹¤.

β†’ ν•¨μ κ°μ²΄λ¥Ό λ°›λ” μ •μ  ν©ν„°λ¦¬λ‚ μƒμ„±μλ¥Ό μ κ³µν•λ” λ°©λ²•μΌλ΅ λ€μ²΄ κ°€λ¥ ν•λ‹¤. μ΄λ• ν•¨μν• λ§¤κ°λ³€μ νƒ€μ…μ„ μ¬λ°”λ¥΄κ² μ„ νƒν•΄μ•Ό ν•λ‹¤.

```java
//LinkedHashMapμ removeEldestEntryλ¥Ό μ¬μ •μν•μ—¬ μΊμ‹λ΅ μ‚¬μ©ν•  κ²½μ°
protected boolean removeEldestEntry(Map.Entry<K, V> eldest){
	return size() > 100;
}
//λ§µμ— μ›μ†κ°€ 100κ°κ°€ λ  λ•κΉμ§€ μ»¤μ§€λ‹¤κ°€, 
//κ·Έ μ΄μƒμ΄ λλ©΄ μƒλ΅μ΄ ν‚¤κ°€ λ”ν•΄μ§ λ•λ§λ‹¤ κ°€μ¥ μ¤λλ μ›μ†λ¥Ό ν•λ‚μ”© μ κ±°
```

**λλ‹¤λ¥Ό μ‚¬μ©ν•μ—¬ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤μ–΄ μ‚¬μ©ν•  κ²½μ°**

```java
@FunctionalInterface interface EldestEntryRemovalFunction<K,V> {
	boolean remove(Map<K,V> map, Map.Entry<K,V> eldest);
}
```

π“Β λ¶ν•„μ”ν• ν•¨μν• μΈν„°νμ΄μ¤ - λ€μ‹  ν‘`μ¤€ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λΌ.`

μ„ μ½”λ“λ¥Ό κµ³μ΄ μ‚¬μ©ν•  ν•„μ”λ” μ—†λ‹¤.

- java.util.function ν¨ν‚¤μ§€λ¥Ό λ³΄λ©΄ λ‹¤μ–‘ν• μ©λ„μ ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤κ°€ λ‹΄κ²¨ μλ‹¤.
- ν•„μ”ν• μ©λ„μ— λ§λ” κ² μλ‹¤λ©΄, `μ§μ ‘ κµ¬ν„ν•μ§€ λ§κ³  ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό ν™μ©`ν•λΌ.
- λν• μ μ©ν• λ””ν΄νΈ λ©”μ„λ“λ¥Ό λ§μ΄ μ κ³µν•λ―€λ΅ λ‹¤λ¥Έ μ½”λ“μ™€μ μƒνΈμ΄μ©μ„±λ„ μΆ‹μ•„μ§„λ‹¤.

β†’ EldestEntryRemovalFunction λ€μ‹  ν‘μ¤€ μΈν„°νμ΄μ¤μΈ 

    BiPredicate<Map<K,V>,  Map.Entry<K,V>>λ¥Ό μ‚¬μ©ν•  μ μλ‹¤.

π“Β java.util.function κΈ°λ³Έ μΈν„°νμ΄μ¤ 6κ°

| μΈν„°νμ΄μ¤ | ν•¨μ μ‹κ·Έλ‹μ² | μλ―Έ | μ |
| --- | --- | --- | --- |
| UnaryOperator<T> | T apply(T t) | λ°ν™ κ°’κ³Ό μΈμμ νƒ€μ…μ΄ κ°™μ€ ν•¨μ, μΈμλ” 1κ° | String::toLowerCase |
| BinaryOperator<T> | T apply(T t1, T t2) | λ°ν™ κ°’κ³Ό μΈμμ νƒ€μ…μ΄ κ°™μ€ ν•¨μ, μΈμλ” 2κ° | BigInteger::add |
| Predicate<T> | boolean test(T t) | μΈμ ν•λ‚λ¥Ό λ°›μ•„ booleanμ„ λ°ν™ν•λ” ν•¨μ | Collection::isEmpty |
| Function<T, R> | R apply(T t) | μΈμμ™€ λ°ν™ νƒ€μ…μ΄ λ‹¤λ¥Έ ν•¨μ | Arrays::asList |
| Supplier<T> | T get() | μΈμλ¥Ό λ°›μ§€ μ•κ³  κ°’μ„ λ°ν™(νΉμ€ μ κ³µ)ν•λ” ν•¨μ | Instant::now |
| Consumer<T> | void accept(T t) | μΈμ ν•λ‚ λ°›κ³  λ°ν™ κ°’μ€ μ—†λ” ν•¨μ | System.out::println |
- int, long, double μ© κ° 3κ°μ”© λ³€ν•μ΄ μλ‹¤. ex) IntPredicate, LongBinaryOperator
- Function μΈν„°νμ΄μ¤μ—λ” κΈ°λ³Έ νƒ€μ…μ„ λ°ν™ν•λ” λ³€ν•μ΄ μ΄ 9κ°. ex) SrcToResult, LongToIntFunction
- κΈ°λ³Έ ν•¨μν• μΈν„°νμ΄μ¤ μ¤‘ 3 κ°μ—λ” μΈμλ¥Ό 2κ°μ”© λ°›λ” λ³€ν•μ΄ μμ
    
    ex) BiPredicates<T, U>, BiFunction<T, U>, Biconsumer<T, U>
    

π“Β ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤ λ€λ¶€λ¶„μ€ κΈ°λ³Έ νƒ€μ…λ§ μ§€μ›ν•λ‹¤. κ·Έλ ‡λ‹¤κ³  κΈ°λ³Έ ν•¨μν• μΈν„°νμ΄μ¤μ— `λ°•μ‹±λ κΈ°λ³Έ νƒ€μ…`μ„ λ„£μ–΄ μ‚¬μ©ν•μ§€ λ§μ.

β†’ λ™μ‘μ—λ” μ΄μƒμ΄ μ—†μ§€λ§, κ³„μ‚°λ‰μ΄ λ§μ„ κ²½μ° μ„±λ¥μ΄ μ²μ°Έν λλ ¤μ§ μ μκΈ° λ•λ¬Έμ΄λ‹¤.

β“μ½”λ“λ¥Ό μ§μ ‘ μ‘μ„±ν•΄μ•Ό ν•  λ•λ” μ–Έμ μΈκ°€?

λ‹¤μ μ¤‘ ν•λ‚ μ΄μƒμ„ λ§μ΅±ν•λ‹¤λ©΄ μ „μ© ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•΄μ•Ό ν•λ” κ±΄ μ•„λ‹μ§€ κ³ λ―Όν•΄μ•Ό ν•λ‹¤.

1. μμ£Ό μ“°μ΄λ©°, μ΄λ¦„ μμ²΄κ°€ μ©λ„λ¥Ό λ…ν™•ν μ„¤λ…ν•΄μ¤€λ‹¤.
2. λ°λ“μ‹ λ”°λΌμ•Ό ν•λ” κ·μ•½μ΄ μλ‹¤.
3. μ μ©ν• λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ κ³µν•  μ μλ‹¤.

μ§μ ‘ μ‘μ„±μ‹ μ£Όμμ 

- μΈν„°νμ΄μ¤μ„μ„ λ…μ‹¬ν•΄μ•Ό ν•λ‹¤. β†’ `@FunctionalIterface μ• λ„ν…μ΄μ…μ„ μ‚¬μ©ν•΄λΌ!`

π“Β @FunctionalInterfaceλ¥Ό μ‚¬μ©ν•λ” μ΄μ 

1. ν•΄λ‹Ή ν΄λμ¤μ μ½”λ“λ‚ μ„¤λ… λ¬Έμ„λ¥Ό μ½μ„ μ΄μ—κ² κ·Έ μΈν„°νμ΄μ¤κ°€ λλ‹¤μ©μΌλ΅ μ„¤κ³„λ κ²ƒμ„μ„ μ•λ ¤μ¤
2. ν•΄λ‹Ή μΈν„°νμ΄μ¤κ°€ μ¶”μƒ λ©”μ„λ“λ¥Ό μ¤μ§ ν•λ‚λ§ κ°€μ§€κ³  μμ–΄μ•Ό μ»΄νμΌ λκ² ν•΄μ¤
3. μ μ§€λ³΄μ κ³Όμ •μ—μ„ λ„κµ°κ°€ μ‹¤μλ΅ λ©”μ„λ“λ¥Ό μ¶”κ°€ν•μ§€ λ»ν•κ² λ§‰μ•„μ¤

π“Β ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό APIμ—μ„ μ‚¬μ©ν•  λ•μ μ£Όμμ 

- μ„λ΅ λ‹¤λ¥Έ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό κ°™μ€ μ„μΉμ μΈμλ΅ λ°›λ” λ©”μ„λ“λ“¤μ„ λ‹¤μ¤‘ μ •μν•΄μ„λ” μ• λλ‹¤.

```java
//Executorserviceμ submit λ©”μ„λ“
//μ¬λ°”λ¥Έ λ©”μ„λ“λ¥Ό μ•λ ¤μ£ΌκΈ° μ„ν•΄ ν•λ³€ν™ν•΄μ•Ό ν•  λ•κ°€ μ™•μ™•μƒκΈ΄λ‹¤
public interface ExecutorService extends Executor {
    <T> Future<T> submit(Callback<T> task);
    Future<?> submit(Runnable task);
}
```